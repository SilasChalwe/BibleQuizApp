<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import java.net.URL?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.nextinnomind.biblequizapp.controller.QuizViewController"
            prefWidth="360" prefHeight="640" styleClass="root-pane" stylesheets="@../assets/css/style.css">

    <!-- Top bar -->
    <top>
        <HBox spacing="15" alignment="CENTER_LEFT" styleClass="quiz-top-bar">
            <Button fx:id="backButton" text="← Back" onAction="#handleBack" styleClass="quiz-back-btn"/>

            <!-- Level Display -->
            <HBox spacing="6" alignment="CENTER">
                <Label text="Level" styleClass="quiz-level-info" />
                <Label fx:id="levelName" text="1" styleClass="quiz-level-name" />
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <!-- Timer -->
            <HBox alignment="CENTER_RIGHT">
                <StackPane fx:id="timerCirclePane" prefWidth="50" prefHeight="50">
                    <Circle fx:id="timerCircleBg" radius="20" styleClass="quiz-timer-bg"/>
                    <Circle fx:id="timerCircleFg" radius="20" styleClass="quiz-timer-fg"/>
                    <Label fx:id="timerLabel" text="30" styleClass="quiz-timer-label" />
                </StackPane>
            </HBox>
        </HBox>
    </top>

    <!-- Question card and options -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="15" style="-fx-padding: 15;" VBox.vgrow="ALWAYS">

            <!-- Question -->
            <VBox maxWidth="Infinity" VBox.vgrow="ALWAYS">
                <StackPane styleClass="question-card-glass">
                    <VBox alignment="CENTER" spacing="8" VBox.vgrow="ALWAYS">
                        <HBox alignment="CENTER" spacing="4">
                            <Circle radius="2.5" styleClass="progress-dot"/>
                            <Circle radius="2.5" styleClass="progress-dot"/>
                            <Circle radius="2.5" styleClass="progress-dot"/>
                        </HBox>
                        <VBox alignment="CENTER" VBox.vgrow="ALWAYS">
                            <Label fx:id="questionLabel" wrapText="true"
                                   text="Question will appear here"
                                   styleClass="question-text-glass"
                                   maxWidth="Infinity"/>
                        </VBox>
                    </VBox>
                </StackPane>
            </VBox>

            <!-- Responsive Options Container -->
            <FlowPane fx:id="optionsFlowPane"
                      hgap="15" vgap="15"
                      alignment="CENTER"
                      maxWidth="660"

                      prefWrapLength="700">
                <!-- Option A -->
                <HBox fx:id="optionABox" maxWidth="Infinity">
                    <StackPane>
                        <Rectangle arcWidth="15" arcHeight="15"
                                   styleClass="choice-option-rect"
                                   width="320" height="42"/>
                        <Button fx:id="choiceA" text="A. Choice A" styleClass="choice-option-btn"/>
                    </StackPane>
                </HBox>

                <!-- Option B -->
                <HBox fx:id="optionBBox" maxWidth="Infinity">
                    <StackPane>
                        <Rectangle arcWidth="15" arcHeight="15" styleClass="choice-option-rect" width="320" height="42"/>
                        <Button fx:id="choiceB" text="B. Choice B" styleClass="choice-option-btn"/>
                    </StackPane>
                </HBox>

                <!-- Option C -->
                <HBox fx:id="optionCBox" maxWidth="Infinity">
                    <StackPane>
                        <Rectangle arcWidth="15" arcHeight="15"
                                   styleClass="choice-option-rect"
                                   width="320" height="42"/>
                        <Button fx:id="choiceC" text="C. Choice C" styleClass="choice-option-btn"/>
                    </StackPane>
                </HBox>

                <!-- Option D -->
                <HBox fx:id="optionDBox" maxWidth="Infinity">
                    <StackPane>
                        <Rectangle arcWidth="15" arcHeight="15"
                                   styleClass="choice-option-rect"
                                   width="320" height="42"/>
                        <Button fx:id="choiceD" text="D. Choice D" styleClass="choice-option-btn"/>
                    </StackPane>
                </HBox>
            </FlowPane>
        </VBox>
    </center>

    <!-- Question tracker -->
    <bottom>
        <HBox alignment="CENTER" styleClass="quiz-bottom-bar">
            <!-- Progress dots -->
            <HBox spacing="4" alignment="CENTER">
                <Circle radius="3" styleClass="progress-dot"/>
                <Rectangle width="30" height="1.5" styleClass="progress-line" arcWidth="1.5" arcHeight="1.5"/>
                <Label fx:id="questionNumberLabel"
                       text="Question 1 of 15"
                       styleClass="question-progress-label" />
                <Rectangle width="30" height="1.5" styleClass="progress-line" arcWidth="1.5" arcHeight="1.5"/>
                <Circle radius="3" styleClass="progress-dot"/>
            </HBox>
        </HBox>
    </bottom>


</BorderPane>